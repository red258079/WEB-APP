<!DOCTYPE html>
<html lang="vi">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <!-- NgƒÉn tr√¨nh duy·ªát cache trang - b·∫£o m·∫≠t sau logout -->
    <meta http-equiv="Cache-Control" content="no-cache, no-store, must-revalidate">
    <meta http-equiv="Pragma" content="no-cache">
    <meta http-equiv="Expires" content="0">
    <title>EduSystem - H·ªçc sinh</title>
    <link rel="stylesheet" href="/client/public/css/student.css">
    <link rel="stylesheet" href="/client/public/css/scroll-to-top.css">
    <link rel="icon" type="image/png" href="/client/public/images/edu.png">
    <style>
        @keyframes spin {
            from {
                transform: rotate(0deg);
            }

            to {
                transform: rotate(360deg);
            }
        }

        .practice-spinner {
            animation: spin 1s linear infinite;
        }
    </style>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/3.9.1/chart.min.js"></script>
    <script src="https://cdn.socket.io/4.5.0/socket.io.min.js"></script>
</head>

<body>
    <button class="mobile-menu-btn" onclick="toggleSidebar()">‚ò∞</button>
    <div class="sidebar-overlay" id="sidebarOverlay" onclick="toggleSidebar()"></div>

    <div class="sidebar" id="sidebar">
        <div class="sidebar-header">
            <div class="logo">üéì EduSystem</div>
            <div style="font-size: 14px; color: #666;">H·ªá th·ªëng gi√°o d·ª•c</div>
        </div>

        <div class="menu-item active" onclick="showSection('dashboard')">
            <span class="menu-icon">üè†</span>
            <span>Trang ch·ªß</span>
        </div>

        <div class="menu-item" onclick="toggleSubmenu('classes')">
            <span class="menu-icon">üë•</span>
            <span>L·ªõp h·ªçc</span>
            <span class="arrow" id="classes-arrow">‚ñ∂</span>
        </div>
        <div class="submenu" id="classes-submenu">
            <div class="submenu-item" onclick="showSection('join-class')">Tham gia l·ªõp h·ªçc</div>
            <div class="submenu-item" onclick="showSection('my-classes')">L·ªõp c·ªßa t√¥i</div>
        </div>

        <div class="menu-item" onclick="toggleSubmenu('tests')">
            <span class="menu-icon">üìù</span>
            <span>B√†i ki·ªÉm tra</span>
            <span class="arrow" id="tests-arrow">‚ñ∂</span>
        </div>
        <div class="submenu" id="tests-submenu">
            <div class="submenu-item" onclick="showSection('available-tests')">B√†i thi kh·∫£ d·ª•ng</div>
            <div class="submenu-item" onclick="showSection('test-history')">L·ªãch s·ª≠ l√†m b√†i</div>
        </div>

        <div class="menu-item" onclick="toggleSubmenu('practice')">
            <span class="menu-icon">‚ú®</span>
            <span>Luy·ªán t·∫≠p</span>
            <span class="arrow" id="practice-arrow">‚ñ∂</span>
        </div>
        <div class="submenu" id="practice-submenu">
            <div class="submenu-item" onclick="showSection('create-practice')">T·∫°o ƒë·ªÅ luy·ªán t·∫≠p</div>
            <div class="submenu-item" onclick="showSection('my-practice')">ƒê·ªÅ luy·ªán t·∫≠p c·ªßa t√¥i</div>
        </div>

        <div class="menu-item" onclick="toggleSubmenu('results')">
            <span class="menu-icon">üìä</span>
            <span>K·∫øt qu·∫£</span>
            <span class="arrow" id="results-arrow">‚ñ∂</span>
        </div>
        <div class="submenu" id="results-submenu">
            <div class="submenu-item" onclick="showSection('my-results')">K·∫øt qu·∫£ c·ªßa t√¥i</div>
            <div class="submenu-item" onclick="showSection('statistics')">Th·ªëng k√™</div>
            <div class="submenu-item" onclick="showSection('ranking')">B·∫£ng x·∫øp h·∫°ng</div>
        </div>

        <div class="menu-item" onclick="showSection('complaints')">
            <span class="menu-icon">‚öñÔ∏è</span>
            <span>Khi·∫øu n·∫°i ƒëi·ªÉm</span>
        </div>

        <div class="menu-item" onclick="logout()">
            <span class="menu-icon">üö™</span>
            <span>ƒêƒÉng xu·∫•t</span>
        </div>
    </div>

    <div class="main-content">
        <div class="header">
            <div class="page-title" id="pageTitle">Trang ch·ªß</div>
            <div style="display: flex; align-items: center; gap: 15px;">
                <button class="dark-mode-toggle" id="darkModeToggle" onclick="toggleDarkMode()"
                    title="Chuy·ªÉn ƒë·ªïi ch·∫ø ƒë·ªô t·ªëi">
                    <span id="darkModeIcon">üåô</span>
                </button>
                <div class="notification-badge" onclick="showNotifications()">üîî</div>
            </div>
        </div>

        <div class="content-section active" id="dashboard">
            <div class="profile-section">
                <div class="card profile-card">
                    <div class="profile-avatar-large" onclick="document.getElementById('avatarUpload').click()">
                        HS
                        <div class="avatar-upload">üì∑</div>
                    </div>
                    <input type="file" id="avatarUpload" style="display: none;" accept="image/*"
                        onchange="uploadAvatar(this)">

                    <h3 id="userName">ƒêang t·∫£i...</h3>
                    <p style="color: #666; margin-bottom: 20px;" id="userId">MSSV: ƒêang t·∫£i...</p>

                    <div class="stat-box">
                        <div class="stat-number" id="avgScore">ƒêang t·∫£i...</div>
                        <div class="stat-label">ƒêi·ªÉm trung b√¨nh</div>
                    </div>

                    <div class="stat-box" style="background: linear-gradient(45deg, #43e97b, #38f9d7);">
                        <div class="stat-number" id="rankPosition">ƒêang t·∫£i...</div>
                        <div class="stat-label">X·∫øp h·∫°ng l·ªõp</div>
                    </div>

                    <button class="btn btn-primary" style="width: 100%; margin-top: 15px;"
                        onclick="openModal('editProfileModal')">‚úèÔ∏è C·∫≠p nh·∫≠t th√¥ng tin</button>
                </div>

                <div>
                    <div class="card">
                        <h3 style="margin-bottom: 15px;">Th√¥ng tin c√° nh√¢n</h3>
                        <div class="info-grid" id="userInfo">
                            <!-- D·ªØ li·ªáu s·∫Ω ƒë∆∞·ª£c ƒëi·ªÅn ƒë·ªông -->
                        </div>
                    </div>

                    <div class="card" style="margin-top: 20px;" id="upcomingTests">
                        <!-- D·ªØ li·ªáu s·∫Ω ƒë∆∞·ª£c ƒëi·ªÅn ƒë·ªông -->
                    </div>
                </div>
            </div>
        </div>

        <div class="content-section" id="join-class">
            <div class="card">
                <h3 style="margin-bottom: 20px;">Tham gia l·ªõp h·ªçc</h3>
                <input type="text" class="input-field" placeholder="Nh·∫≠p m√£ l·ªõp (VD: CLASS2024)" id="classCode">
                <button class="btn btn-primary" onclick="joinClass()">Tham gia</button>
                <button class="btn"
                    style="margin-left: 10px; background: linear-gradient(45deg, #4facfe, #00f2fe); color: white;"
                    onclick="joinByLink()">D√πng link m·ªùi</button>
            </div>
        </div>

        <div class="content-section" id="my-classes">
            <div class="card">
                <h3 style="margin-bottom: 20px;">L·ªõp c·ªßa t√¥i</h3>
                <div id="myClassesList">
                    <!-- D·ªØ li·ªáu s·∫Ω ƒë∆∞·ª£c ƒëi·ªÅn ƒë·ªông -->
                </div>
            </div>
        </div>

        <div class="content-section" id="class-detail">
            <button class="btn" style="margin-bottom: 20px;" onclick="backToMyClasses()">‚Üê Quay l·∫°i danh s√°ch
                l·ªõp</button>

            <!-- Th√¥ng tin l·ªõp h·ªçc -->
            <div class="card"
                style="background: linear-gradient(45deg, #667eea, #764ba2); color: white; margin-bottom: 20px;">
                <h3 style="color: white; margin-bottom: 20px;" id="classDetailTitle">Chi ti·∫øt l·ªõp h·ªçc</h3>
                <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 20px;">
                    <div>
                        <div style="font-size: 12px; opacity: 0.9; margin-bottom: 5px;">üìö M√£ l·ªõp</div>
                        <div style="font-size: 18px; font-weight: bold;" id="detailClassCode">-</div>
                    </div>
                    <div>
                        <div style="font-size: 12px; opacity: 0.9; margin-bottom: 5px;">üìñ M√¥n h·ªçc</div>
                        <div style="font-size: 18px; font-weight: bold;" id="detailSubject">-</div>
                    </div>
                    <div>
                        <div style="font-size: 12px; opacity: 0.9; margin-bottom: 5px;">üë®‚Äçüè´ Gi√°o vi√™n</div>
                        <div style="font-size: 18px; font-weight: bold;" id="detailTeacher">-</div>
                    </div>
                    <div>
                        <div style="font-size: 12px; opacity: 0.9; margin-bottom: 5px;">üìÖ NƒÉm h·ªçc</div>
                        <div style="font-size: 18px; font-weight: bold;" id="detailYear">-</div>
                    </div>
                </div>
            </div>

            <!-- Tabs -->
            <div class="class-tabs-container">
                <button class="class-tab active" onclick="switchClassTab('students')">
                    <span class="tab-icon">üë•</span>
                    <span>H·ªçc sinh</span>
                    <span class="tab-count" id="studentsCount">(0)</span>
                </button>
                <button class="class-tab" onclick="switchClassTab('tests')">
                    <span class="tab-icon">üìù</span>
                    <span>B√†i ki·ªÉm tra</span>
                    <span class="tab-count" id="testsCount">(0)</span>
                </button>
                <button class="class-tab" onclick="switchClassTab('materials')">
                    <span class="tab-icon">üìö</span>
                    <span>T√†i li·ªáu</span>
                    <span class="tab-count" id="materialsCount">(0)</span>
                </button>
                <button class="class-tab" onclick="switchClassTab('announcements')">
                    <span class="tab-icon">üì¢</span>
                    <span>Th√¥ng b√°o</span>
                    <span class="tab-count" id="announcementsCount">(0)</span>
                </button>
            </div>

            <!-- Tab Content -->
            <div class="card">
                <div id="classTabStudents" class="class-tab-content active">
                    <h3 style="margin-bottom: 20px;">üë• Danh s√°ch h·ªçc sinh</h3>
                    <div id="studentsList"></div>
                </div>

                <div id="classTabTests" class="class-tab-content">
                    <h3 style="margin-bottom: 20px;">üìù B√†i ki·ªÉm tra</h3>
                    <div id="testsList"></div>
                </div>

                <div id="classTabMaterials" class="class-tab-content">
                    <h3 style="margin-bottom: 20px;">üìö T√†i li·ªáu h·ªçc t·∫≠p</h3>
                    <div id="materialsList"></div>
                </div>

                <div id="classTabAnnouncements" class="class-tab-content">
                    <h3 style="margin-bottom: 20px;">üì¢ Th√¥ng b√°o t·ª´ gi√°o vi√™n</h3>
                    <div id="announcementsList"></div>
                </div>
            </div>
        </div>

        <div class="content-section" id="available-tests">
            <div class="card">
                <h3 style="margin-bottom: 20px;">B√†i ki·ªÉm tra kh·∫£ d·ª•ng</h3>
                <div id="availableTestsList">
                    <!-- D·ªØ li·ªáu s·∫Ω ƒë∆∞·ª£c ƒëi·ªÅn ƒë·ªông -->
                </div>
            </div>
        </div>
        <div class="content-section" id="test-history">
            <div class="card">
                <h3 style="margin-bottom: 20px;">L·ªãch s·ª≠ l√†m b√†i</h3>
                <div id="testHistoryList">
                    <!-- D·ªØ li·ªáu s·∫Ω ƒë∆∞·ª£c ƒëi·ªÅn ƒë·ªông -->
                </div>
            </div>
        </div>

        <div class="content-section" id="my-results">
            <div class="card">
                <h3 style="margin-bottom: 20px;">K·∫øt qu·∫£ c·ªßa t√¥i</h3>
                <div id="myResultsList">
                    <!-- D·ªØ li·ªáu s·∫Ω ƒë∆∞·ª£c ƒëi·ªÅn ƒë·ªông -->
                </div>
            </div>
        </div>
        <div class="content-section" id="statistics">
            <div class="card">
                <h3 style="margin-bottom: 20px;">Th·ªëng k√™ h·ªçc t·∫≠p</h3>

                <div
                    style="display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap: 20px; margin-bottom: 30px;">
                    <div class="stat-box">
                        <div class="stat-number" id="statTotalTests">0</div>
                        <div class="stat-label">T·ªïng s·ªë b√†i thi</div>
                    </div>
                    <div class="stat-box" style="background: linear-gradient(45deg, #2ed573, #17c0eb);">
                        <div class="stat-number" id="statAvgScore">0</div>
                        <div class="stat-label">ƒêi·ªÉm trung b√¨nh</div>
                    </div>
                    <div class="stat-box" style="background: linear-gradient(45deg, #ffa502, #ff6348);">
                        <div class="stat-number" id="statHighestScore">0</div>
                        <div class="stat-label">ƒêi·ªÉm cao nh·∫•t</div>
                    </div>
                    <div class="stat-box" style="background: linear-gradient(45deg, #a29bfe, #6c5ce7);">
                        <div class="stat-number" id="statTotalClasses">0</div>
                        <div class="stat-label">S·ªë l·ªõp tham gia</div>
                    </div>
                </div>

                <div id="statisticsCharts">
                    <p style="text-align: center; color: #666; padding: 40px 0;">üìä Bi·ªÉu ƒë·ªì th·ªëng k√™ s·∫Ω ƒë∆∞·ª£c hi·ªÉn th·ªã
                        khi c√≥ d·ªØ li·ªáu</p>
                </div>
            </div>
        </div>

        <div class="content-section" id="ranking">
            <div class="card">
                <h3 style="margin-bottom: 20px;" id="rankingTitle">B·∫£ng x·∫øp h·∫°ng <span id="rankingClassName">ƒêang
                        t·∫£i...</span></h3>
                <p style="color: #666; margin-bottom: 20px;" id="rankingTotal">T·ªïng s·ªë h·ªçc sinh: ƒêang t·∫£i...</p>

                <!-- Th√¥ng tin v·ªã tr√≠ c·ªßa h·ªçc sinh ƒëang ƒëƒÉng nh·∫≠p -->
                <div id="currentUserRank"
                    style="margin-bottom: 30px; padding: 20px; background: linear-gradient(45deg, #667eea, #764ba2); border-radius: 15px; color: white;">
                    <h4 style="margin-bottom: 15px; color: white;">üìç V·ªã tr√≠ c·ªßa b·∫°n</h4>
                    <div id="currentUserRankInfo" style="font-size: 18px;">
                        ƒêang t·∫£i...
                    </div>
                </div>

                <!-- B·∫£ng x·∫øp h·∫°ng -->
                <table class="ranking-table" id="rankingTable">
                    <thead>
                        <tr>
                            <th>H·∫°ng</th>
                            <th>H·ªç t√™n</th>
                            <th>MSSV</th>
                            <th>ƒêi·ªÉm TB</th>
                        </tr>
                    </thead>
                    <tbody>
                        <!-- D·ªØ li·ªáu s·∫Ω ƒë∆∞·ª£c ƒëi·ªÅn ƒë·ªông -->
                    </tbody>
                </table>
            </div>
        </div>

        <div class="content-section" id="create-practice">
            <div class="card">
                <h2 class="card-title">‚ú® T·∫°o ƒë·ªÅ luy·ªán t·∫≠p b·∫±ng AI</h2>
                <p style="color: #666; margin-bottom: 20px;">Ch·ªçn t√†i li·ªáu t·ª´ gi√°o vi√™n ƒë√£ upload (PDF, Word, Excel,
                    PowerPoint, Text...) v√† nh·∫≠p prompt ƒë·ªÉ AI t·∫°o ƒë·ªÅ thi luy·ªán t·∫≠p cho b·∫°n. S·ªë c√¢u h·ªèi c√≥ th·ªÉ t·∫°o ph·ª•
                    thu·ªôc v√†o ƒë·ªô d√†i n·ªôi dung t√†i li·ªáu.</p>

                <div style="margin-bottom: 20px;">
                    <label style="display: block; margin-bottom: 8px; font-weight: 600;">üìö Ch·ªçn t√†i li·ªáu t·ª´ gi√°o
                        vi√™n:</label>
                    <select id="practiceMaterialSelect" class="input-field" style="width: 100%; padding: 12px;">
                        <option value="">-- Ch·ªçn t√†i li·ªáu --</option>
                    </select>
                    <small style="color: #718096; font-size: 12px; margin-top: 5px; display: block;">
                        üí° Hi·ªÉn th·ªã t·∫•t c·∫£ t√†i li·ªáu (PDF, Word, Excel, PowerPoint, Text...) t·ª´ c√°c gi√°o vi√™n c·ªßa b·∫°n. S·ªë
                        c√¢u h·ªèi c√≥ th·ªÉ t·∫°o ƒë∆∞·ª£c hi·ªÉn th·ªã b√™n c·∫°nh t√™n file.
                    </small>
                </div>

                <div style="margin-bottom: 20px;">
                    <label style="display: block; margin-bottom: 8px; font-weight: 600;">üìù M√¥ t·∫£ ƒë·ªÅ thi b·∫°n
                        mu·ªën:</label>
                    <textarea id="practicePrompt" class="input-field" rows="4"
                        placeholder="VD: T·∫°o 15 c√¢u h·ªèi tr·∫Øc nghi·ªám v·ªÅ bi·∫øn v√† ki·ªÉu d·ªØ li·ªáu trong C#, ƒë·ªô kh√≥ trung b√¨nh"></textarea>
                </div>

                <div style="margin-bottom: 20px;">
                    <label style="display: block; margin-bottom: 8px; font-weight: 600;">‚öôÔ∏è T√πy ch·ªçn:</label>
                    <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 15px;">
                        <div>
                            <label>S·ªë c√¢u h·ªèi:</label>
                            <input type="number" id="practiceNumQuestions" class="input-field" value="10" min="1"
                                max="200" placeholder="Ch·ªçn s·ªë c√¢u h·ªèi b·∫°n mu·ªën">
                        </div>
                        <div>
                            <label>ƒê·ªô kh√≥:</label>
                            <select id="practiceDifficulty" class="input-field">
                                <option value="Easy">D·ªÖ</option>
                                <option value="Medium" selected>Trung b√¨nh</option>
                                <option value="Hard">Kh√≥</option>
                            </select>
                        </div>
                    </div>
                </div>

                <button class="btn btn-primary" onclick="createPracticeExamWithAI()" id="practiceCreateBtn"
                    style="width: 100%; padding: 15px; font-size: 16px;">
                    ü§ñ T·∫°o ƒë·ªÅ luy·ªán t·∫≠p b·∫±ng AI
                </button>
            </div>

            <!-- Loading Spinner -->
            <div id="practiceLoading"
                style="display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.6); z-index: 10000; align-items: center; justify-content: center; flex-direction: column;">
                <div
                    style="background: white; border-radius: 15px; padding: 40px; text-align: center; max-width: 400px;">
                    <div class="practice-spinner"
                        style="width: 50px; height: 50px; border: 5px solid #e1e8ed; border-top: 5px solid #667eea; border-radius: 50%; animation: spin 1s linear infinite; margin: 0 auto 20px;">
                    </div>
                    <p style="color: #2d3748; font-size: 18px; font-weight: 600; margin: 0;">
                        ü§ñ AI ƒëang t·∫°o ƒë·ªÅ thi...
                    </p>
                    <p style="color: #718096; margin-top: 10px; font-size: 14px;">
                        Vui l√≤ng ƒë·ª£i trong gi√¢y l√°t
                    </p>
                </div>
            </div>
        </div>

        <div class="content-section" id="my-practice">
            <div class="card">
                <h2 class="card-title">üìö ƒê·ªÅ luy·ªán t·∫≠p c·ªßa t√¥i</h2>
                <div id="practiceExamsList">
                    <p style="text-align: center; color: #666; padding: 40px;">‚è≥ ƒêang t·∫£i...</p>
                </div>
            </div>
        </div>

        <div class="content-section" id="complaints">
            <div class="card">
                <div
                    style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 20px; flex-wrap: wrap; gap: 15px;">
                    <h3 style="margin: 0;">‚öñÔ∏è Khi·∫øu n·∫°i ƒëi·ªÉm</h3>
                    <button class="btn btn-secondary" onclick="loadComplaints()" style="padding: 10px 20px;">
                        üîÑ L√†m m·ªõi
                    </button>
                </div>

                <div
                    style="background: linear-gradient(135deg, #fff5f5 0%, #fed7d7 100%); padding: 15px; border-radius: 10px; margin-bottom: 20px; border-left: 4px solid #f56565;">
                    <p style="margin: 0; color: #742a2a; font-size: 14px;">
                        <strong>üìã L∆∞u √Ω:</strong> B·∫°n ch·ªâ c√≥ th·ªÉ khi·∫øu n·∫°i v·ªÅ c√°c b√†i thi ƒë√£ ƒë∆∞·ª£c ch·∫•m ƒëi·ªÉm. Vui l√≤ng
                        n√™u r√µ l√Ω do v√† cung c·∫•p b·∫±ng ch·ª©ng n·∫øu c√≥.
                    </p>
                </div>

                <form id="complaintForm" onsubmit="submitComplaint(event)">
                    <div class="form-group" style="margin-bottom: 15px;">
                        <label style="display: block; margin-bottom: 8px; font-weight: 600; color: #2d3748;">
                            Ch·ªçn b√†i ki·ªÉm tra <span style="color: #f56565;">*</span>
                        </label>
                        <select class="input-field" id="complaintSubject" required
                            style="width: 100%; padding: 12px; border: 2px solid #e2e8f0; border-radius: 8px;">
                            <option value="">-- Ch·ªçn b√†i ki·ªÉm tra --</option>
                            <!-- D·ªØ li·ªáu s·∫Ω ƒë∆∞·ª£c ƒëi·ªÅn ƒë·ªông -->
                        </select>
                        <small style="color: #718096; display: block; margin-top: 5px;">
                            üí° Ch·ªâ hi·ªÉn th·ªã c√°c b√†i thi ƒë√£ ƒë∆∞·ª£c ch·∫•m ƒëi·ªÉm
                        </small>
                    </div>

                    <div class="form-group" style="margin-bottom: 15px;">
                        <label style="display: block; margin-bottom: 8px; font-weight: 600; color: #2d3748;">
                            L√Ω do khi·∫øu n·∫°i <span style="color: #f56565;">*</span>
                        </label>
                        <textarea class="input-field" rows="6"
                            placeholder="Vui l√≤ng n√™u r√µ l√Ω do khi·∫øu n·∫°i c·ªßa b·∫°n. V√≠ d·ª•: C√¢u h·ªèi s·ªë X, t√¥i ƒë√£ tr·∫£ l·ªùi ƒë√∫ng nh∆∞ng b·ªã tr·ª´ ƒëi·ªÉm..."
                            id="complaintReason" required
                            style="width: 100%; padding: 12px; border: 2px solid #e2e8f0; border-radius: 8px; resize: vertical; min-height: 120px;"></textarea>
                        <small style="color: #718096; display: block; margin-top: 5px;">
                            üìù M√¥ t·∫£ chi ti·∫øt s·∫Ω gi√∫p gi√°o vi√™n x·ª≠ l√Ω nhanh h∆°n
                        </small>
                    </div>

                    <div style="display: flex; gap: 10px; flex-wrap: wrap;">
                        <button type="submit" class="btn"
                            style="background: linear-gradient(45deg, #fa709a, #fee140); color: white; flex: 1; min-width: 150px;">
                            üì§ G·ª≠i khi·∫øu n·∫°i
                        </button>
                        <button type="button" class="btn btn-secondary" onclick="resetComplaintForm()"
                            style="min-width: 100px;">
                            üîÑ L√†m m·ªõi
                        </button>
                    </div>
                </form>

                <div style="margin-top: 30px; padding-top: 20px; border-top: 2px solid #e1e8ed;">
                    <h4 style="margin-bottom: 15px; color: #2d3748; display: flex; align-items: center; gap: 10px;">
                        üìú L·ªãch s·ª≠ khi·∫øu n·∫°i
                        <span id="complaintCount"
                            style="background: #667eea; color: white; padding: 4px 12px; border-radius: 20px; font-size: 12px; font-weight: 600;">0</span>
                    </h4>
                    <div id="recentComplaints" style="display: flex; flex-direction: column; gap: 15px;">
                        <div style="text-align: center; padding: 40px; color: #718096;">
                            <p>‚è≥ ƒêang t·∫£i l·ªãch s·ª≠ khi·∫øu n·∫°i...</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>

    </div>

    <!-- Modal ch·ªânh s·ª≠a th√¥ng tin -->
    <div class="modal" id="editProfileModal">
        <div class="modal-content">
            <div class="modal-header">
                <h3>‚úèÔ∏è C·∫≠p nh·∫≠t th√¥ng tin c√° nh√¢n</h3>
                <span class="close" onclick="closeModal('editProfileModal')">&times;</span>
            </div>
            <div>
                <input type="text" class="input-field" id="editFullName" placeholder="H·ªç v√† t√™n" value="">
                <input type="text" class="input-field" id="editClass" placeholder="L·ªõp" value="">
                <select class="input-field" id="editGender"
                    style="width: 100%; padding: 12px; border: 1px solid #ddd; border-radius: 8px; font-size: 14px; background: white;">
                    <option value="">-- Ch·ªçn gi·ªõi t√≠nh --</option>
                    <option value="male">Nam</option>
                    <option value="female">N·ªØ</option>
                    <option value="other">Kh√°c</option>
                </select>
                <input type="tel" class="input-field" id="editPhone" placeholder="S·ªë ƒëi·ªán tho·∫°i (VD: 0123456789)"
                    value="">
                <input type="date" class="input-field" id="editDob" placeholder="Ng√†y sinh">
                <button class="btn btn-primary" style="width: 100%; margin-top: 15px;"
                    onclick="saveProfileChanges()">L∆∞u thay ƒë·ªïi</button>
            </div>
        </div>
    </div>

    <!-- Change Password Modal -->
    <div class="modal" id="changePasswordModal">
        <div class="modal-content">
            <div class="modal-header">
                <h3>üîí ƒê·ªïi m·∫≠t kh·∫©u</h3>
                <span class="close" onclick="closeModal('changePasswordModal')">&times;</span>
            </div>
            <div>
                <input type="password" class="input-field" placeholder="M·∫≠t kh·∫©u hi·ªán t·∫°i">
                <input type="password" class="input-field" placeholder="M·∫≠t kh·∫©u m·ªõi">
                <input type="password" class="input-field" placeholder="X√°c nh·∫≠n m·∫≠t kh·∫©u m·ªõi">
                <button class="btn btn-primary" style="width: 100%;" onclick="changePassword()">ƒê·ªïi m·∫≠t kh·∫©u</button>
            </div>
        </div>
    </div>

    <!-- Notification Modal -->
    <div class="modal" id="notificationModal">
        <div class="modal-content">
            <div class="modal-header">
                <h3>üîî Th√¥ng b√°o</h3>
                <span class="close" onclick="closeModal('notificationModal')">&times;</span>
            </div>
            <div id="notificationList">
            </div>
            <button class="btn btn-primary" style="width: 100%; margin-top: 15px;" onclick="markAllAsRead()">ƒê√°nh d·∫•u ƒë√£
                ƒë·ªçc t·∫•t c·∫£</button>
        </div>
    </div>

    <!-- Exam Code Modal -->
    <div class="modal" id="examCodeModal">
        <div class="modal-content">
            <div class="modal-header">
                <h3>üîê Nh·∫≠p m√£ code b√†i thi</h3>
                <span class="close" onclick="closeModal('examCodeModal')">&times;</span>
            </div>
            <div>
                <p style="margin-bottom: 15px; color: #666;">Vui l√≤ng nh·∫≠p m√£ code 6 s·ªë m√† gi√°o vi√™n ƒë√£ cung c·∫•p ƒë·ªÉ b·∫Øt
                    ƒë·∫ßu l√†m b√†i thi.</p>
                <input type="text" class="input-field" id="examCodeInput" placeholder="Nh·∫≠p m√£ code (6 s·ªë)"
                    maxlength="6" pattern="[0-9]{6}"
                    style="text-align: center; font-size: 24px; letter-spacing: 5px; font-weight: bold;">
                <div id="examCodeError" style="color: #ff4757; margin-top: 10px; display: none;"></div>
                <button class="btn btn-primary" style="width: 100%; margin-top: 15px;" onclick="submitExamCode()">X√°c
                    nh·∫≠n</button>
            </div>
        </div>
    </div>
    <script src="/client/public/js/config.js"></script>
    <script src="/client/public/js/api.js"></script>
    <script src="/client/public/js/student.js"></script>
    <script src="/client/public/js/student_practice.js"></script>
    <script src="/client/public/js/scroll-to-top.js"></script>
</body>

</html>